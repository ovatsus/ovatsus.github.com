
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Code Beside</title>
  <meta name="author" content="Gustavo Guerra">

  
  <meta name="description" content="Updated on 2008/09/17: Fixed problem when skipping elements. Updated on 2008/09/15: Fixed problem when trying to read missing attributes. One of new &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.codebeside.org/blog/page/3/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds.feedburner.com/CodeBeside" rel="alternate" title="Code Beside" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<!-- start Mixpanel --><script type="text/javascript">(function(e,b){if(!b.__SV){var a,f,i,g;window.mixpanel=b;a=e.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"===e.location.protocol?"https:":"http:")+'//cdn.mxpnl.com/libs/mixpanel-2.2.min.js';f=e.getElementsByTagName("script")[0];f.parentNode.insertBefore(a,f);b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==
typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" ");for(g=0;g<i.length;g++)f(c,i[g]);
b._i.push([a,e,d])};b.__SV=1.2}})(document,window.mixpanel||[]);
mixpanel.init("64e55268f1c289526e782c55fad33528");</script><!-- end Mixpanel -->

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-5385973-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Code Beside</a></h1>
  
  <div style="float:right; margin-top:20px; margin-right:20px">
    <a href="http://twitter.com/ovatsus" title="Twitter"><img src="/images/ico_twitter.png" /></a>
    <a href="http://github.com/ovatsus" title="GitHub"/><img src="/images/ico_github.png" /></a>
    <a href="http://www.linkedin.com/in/ovatsus" title="LinkedIn"><img src="/images/ico_linkedin.png" /></a>
    <a href="http://feeds.feedburner.com/CodeBeside" title="subscribe via RSS"><img src="/images/ico_rss.png" /></a>
  </div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <!--<li><a href="http://feeds.feedburner.com/CodeBeside" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>-->
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:blog.codebeside.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="http://www.google.com/recaptcha/mailhide/d?k=01fvxbLCjfbApKdVLPRXZpew==&c=-9MautyEaQLUV3lZJtarnYj7m_iIE1vmrl9MSiLGGbg=">Contact</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/09/08/streaming-xml-input-with-xelementreader">Streaming XML Input With XElementReader</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-09-08T00:00:00+01:00" pubdate data-updated="true">Sep 8<span>th</span>, 2008</time>
        
         | <a href="/blog/2008/09/08/streaming-xml-input-with-xelementreader#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>
	<strong>Updated on 2008/09/17</strong>: Fixed problem when skipping elements.<br />
	<strong>Updated on 2008/09/15</strong>: Fixed problem when trying to read missing attributes.</p>
<p>
	One of new features introduced in .NET 3.5 that I welcomed the most was LINQ to XML. The old DOM API was a bit clumsy to use, and the simple fact that you don&#39;t need owner documents any more makes the new XElement much more flexible and pleasant to work with than the old XmlElement.</p>
<p>
	Also new is an API for streaming XML output, XStreamingElement, that by using deferred execution gives you SAX-like performance on a DOM-like API. There&#39;s no streaming XML input API, though, so although you can now get away with not having to use XmlWriter any more, you&#39;ll still need to use XmlReader when you want good performance on large documents. During the LINQ to XML development, the XML Team considered such an API, but they decided not to do it for Orcas.</p>
<p>
	Fortunately, Ralf L&auml;mmel proposed such an API in <a href="http://homepages.cwi.nl/~ralf/api-streaming-xml/">API-based XML streaming with FLWOR power and functional updates</a>. I contacted him too ask if he could publicly release the code of his prototype, but he said he couldn&#39;t do it. Nevertheless, he kindly offered to help me develop a similar library myself, so with his help I implemented a small subset of the functionality he described in the paper. It took a while to get the corner cases right, but this is being used in a real-world scenario for some months now, so I think it&#39;s stable enough.</p>
<p>
	The interface is the following:</p>
<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="n">XElementReader</span><span class="p">(</span><span class="kt">string</span> <span class="n">path</span><span class="p">);</span>
</span><span class='line'><span class="n">XElementReader</span><span class="p">(</span><span class="n">TextReader</span> <span class="n">reader</span><span class="p">);</span>
</span><span class='line'><span class="n">XElementReader</span><span class="p">(</span><span class="n">XmlReader</span> <span class="n">reader</span><span class="p">);</span>
</span><span class='line'><span class="n">XElementReader</span><span class="p">(</span><span class="n">Stream</span> <span class="n">stream</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="n">XName</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'><span class="kt">string</span> <span class="n">Value</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="n">XAttribute</span> <span class="nf">Attribute</span><span class="p">(</span><span class="n">XName</span> <span class="n">name</span><span class="p">);</span>
</span><span class='line'><span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">XAttribute</span><span class="p">&gt;</span> <span class="n">Attributes</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'><span class="n">XElementReader</span> <span class="nf">FirstElement</span><span class="p">();</span>
</span><span class='line'><span class="n">XElementReader</span> <span class="nf">Element</span><span class="p">(</span><span class="n">XName</span> <span class="n">name</span><span class="p">);</span>
</span><span class='line'><span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">XElementReader</span><span class="p">&gt;</span> <span class="n">Elements</span><span class="p">();</span>
</span><span class='line'><span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">XElementReader</span><span class="p">&gt;</span> <span class="n">Elements</span><span class="p">(</span><span class="n">XName</span> <span class="n">name</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="n">XElement</span> <span class="nf">ToXElement</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>
<p></p>
<p>
	Although XElementReader looks a lot like a subset of XElement, you still have to remember that it&#39;s using a XmlReader underneath, so after you try to get to any child element, you have changed the reader position.</p>
<p>
	For example, if you have an element like &lt;Root&gt;&lt;A/&gt;&lt;B/&gt;&lt;A/&gt;&lt;B/&gt;&lt;/Root&gt; and call .Element(&quot;A&quot;) twice and then .Element(&quot;B&quot;) twice, the second call for B will return null. If you instead call .Elements(&quot;A&quot;) and then .Elements(&quot;B&quot;), you&#39;ll get two A elements, but no B elements at all. So to do this right, you have iterate on .Elements() and check the .Name property to see if you&#39;re in an A or in a B element.</p>
<p>
	This read once nature sometimes also complicates debugging. To help with that, you can define XML_DEBUG_MODE to force XElementReader to use a XElement behind the covers instead of a XmlReader, so you can add watches freely without worrying about side effects. But remember to fully test with this conditional compilation symbol off.</p>
<p>
	Here&#39;s the full code:</p>
<script src="https://gist.github.com/1225799.js"></script>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/08/28/staticstringdictionary-fast-switching-with-linq-revisited">StaticStringDictionary - Fast Switching With LINQ Revisited</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-08-28T00:00:00+01:00" pubdate data-updated="true">Aug 28<span>th</span>, 2008</time>
        
         | <a href="/blog/2008/08/28/staticstringdictionary-fast-switching-with-linq-revisited#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>
	Expression trees are one of the more powerful features of C#. They let you manipulate code in ways that almost remind you of LISP macros (but at runtime instead of compile time). Since I discovered them, I managed to eliminate almost completely the usage of reflection in my code, replacing it with much faster code using techniques similar to what Roger Alsing described in <a href="http://rogeralsing.com/2008/02/28/linq-expressions-creating-objects/">Linq Expressions - Creating objects</a>. Expression trees also made possible something that I find myself using a lot these days: what Jomo Fisher described in <a href="http://blogs.msdn.com/jomo_fisher/archive/2007/03/28/fast-switching-with-linq.aspx">Fast Switching with LINQ</a>. It&#39;s a great example of the powerful things C# allows you to do with a little creativity. As I used it more and more, I collected a few modifications to the original code, so I though in sharing them here. I named it StaticStringDictionary.</p>
<p>
	The main difference of this version from the original code is that I don&#39;t assume that the key being looked up is in the dictionary. That forces me to call string.Equals at the end to check if the key is the correct one. If string.Equals returns false, a fallback function is used. This also invalidates the optimization in the original code that took advantage of different keys with the same value. I also made StaticStringDictionary&lt;T&gt; implement IDictionary&lt;string, T&gt; so it would be easier to adapt existing code.</p>
<p>
	Unfortunately I also stumbled over some problems with certain dictionaries, similar to the ones that Raptor-75 wrote about in the comments of the original article. After a few hours of debugging together with Rui Eug&eacute;nio (and also with the help of <a href="http://blogs.msdn.com/charlie/archive/2008/01/31/expression-tree-basics.aspx">Expression Tree Visualizer</a> and <a href="http://www.manuelabadia.com/blog/PermaLink,guid,9160035f-490f-46bd-ab55-516b5c7545af.aspx">StructsViz DebuggerVisualizer</a>), we managed to fix all the problems we found. The comparer was changed to ensure the characters of indices already tested are ignored for the ordering, and in some situations the algorithm has to some backtracking.</p>
<p>
	Without further due, here&#39;s the code:</p>
<script src="https://gist.github.com/1225796.js"></script>
<p>
	And here&#39;s the test case for Raptor-75&#39;s problem:</p>
<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>   <span class="kt">var</span> <span class="n">dict</span> <span class="p">=</span> <span class="n">StaticStringDictionary</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span>
</span><span class='line'>       <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">int</span><span class="p">&gt;</span> <span class="p">{</span>
</span><span class='line'>           <span class="p">{</span><span class="s">&quot;Ado&quot;</span><span class="p">,</span> <span class="m">0</span><span class="p">},</span>
</span><span class='line'>           <span class="p">{</span><span class="s">&quot;A2o&quot;</span><span class="p">,</span> <span class="m">1</span><span class="p">},</span>
</span><span class='line'>           <span class="p">{</span><span class="s">&quot;A2i&quot;</span><span class="p">,</span> <span class="m">2</span><span class="p">},</span>
</span><span class='line'>           <span class="p">{</span><span class="s">&quot;B2o&quot;</span><span class="p">,</span> <span class="m">3</span><span class="p">},</span>
</span><span class='line'>           <span class="p">{</span><span class="s">&quot;AdoX&quot;</span><span class="p">,</span> <span class="m">4</span><span class="p">},</span>
</span><span class='line'>           <span class="p">{</span><span class="s">&quot;AdPX&quot;</span><span class="p">,</span> <span class="m">5</span><span class="p">}</span>
</span><span class='line'>       <span class="p">},</span>
</span><span class='line'>       <span class="n">key</span> <span class="p">=&gt;</span> <span class="p">-</span><span class="m">1</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">Test</span><span class="p">(</span><span class="s">&quot;Ado&quot;</span><span class="p">,</span> <span class="n">dict</span><span class="p">);</span>
</span><span class='line'>    <span class="n">Test</span><span class="p">(</span><span class="s">&quot;A2o&quot;</span><span class="p">,</span> <span class="n">dict</span><span class="p">);</span>
</span><span class='line'>    <span class="n">Test</span><span class="p">(</span><span class="s">&quot;A2i&quot;</span><span class="p">,</span> <span class="n">dict</span><span class="p">);</span>
</span><span class='line'>    <span class="n">Test</span><span class="p">(</span><span class="s">&quot;B2o&quot;</span><span class="p">,</span> <span class="n">dict</span><span class="p">);</span>
</span><span class='line'>    <span class="n">Test</span><span class="p">(</span><span class="s">&quot;AdoX&quot;</span><span class="p">,</span> <span class="n">dict</span><span class="p">);</span>
</span><span class='line'>    <span class="n">Test</span><span class="p">(</span><span class="s">&quot;AdPX&quot;</span><span class="p">,</span> <span class="n">dict</span><span class="p">);</span>
</span><span class='line'>    <span class="n">Test</span><span class="p">(</span><span class="s">&quot;xpto&quot;</span><span class="p">,</span> <span class="n">dict</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">private</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Test</span><span class="p">(</span><span class="kt">string</span> <span class="n">key</span><span class="p">,</span> <span class="n">IDictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">int</span><span class="p">&gt;</span> <span class="n">dict</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">key</span> <span class="p">+</span> <span class="s">&quot;: &quot;</span> <span class="p">+</span> <span class="n">dict</span><span class="p">[</span><span class="n">key</span><span class="p">]);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>
<p>
	It should produce this output when run:</p>
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Ado: 0
</span><span class='line'>A2o: 1
</span><span class='line'>A2i: 2
</span><span class='line'>B2o: 3
</span><span class='line'>AdoX: 4
</span><span class='line'>AdPX: 5
</span><span class='line'>xpto: -1</span></code></pre></td></tr></table></div></figure>
<p>
	I also found useful to define this variation when I also need to do reverse lookups:</p>
<script src="https://gist.github.com/1225797.js"></script>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/08/28/expression-codedom-visualizer">Expression CodeDom Visualizer</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-08-28T00:00:00+01:00" pubdate data-updated="true">Aug 28<span>th</span>, 2008</time>
        
         | <a href="/blog/2008/08/28/expression-codedom-visualizer#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>
	Can Erten created a very useful expression tree to CodeDom converter. He wrote about it here: <a href="http://www.canerten.com/meta-programming-with-expression-trees-lambdas-to-codedom-conversion/">Expression Trees-Lambdas to CodeDom Conversion</a>. I created a visual studio debugger visualizer based on it. You can find it in attachment. Just copy the assembly to My Documents\Visual Studio 2008\Visualizers and you&#39;re set. I also attached the full source code.</p>
<p>
	<a href="/userfiles/ExpressionCodeDomVisualizer.dll">ExpressionCodeDomVisualizer.dll</a>&nbsp;<a href="/userfiles/ExpressionCodeDomVisualizerSourceCode.zip">ExpressionCodeDomVisualizerSourceCode.zip</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/08/27/counting-the-number-of-messages-in-a-message-queue-in">Counting the Number of Messages in a Message Queue in .NET</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-08-27T00:00:00+01:00" pubdate data-updated="true">Aug 27<span>th</span>, 2008</time>
        
         | <a href="/blog/2008/08/27/counting-the-number-of-messages-in-a-message-queue-in#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>
	.NET includes a managed MSMQ API (System.Messaging) to send and receive messages, but unfortunately there&#39;s a key functionality missing: obtaining the number of messages currently in the queue. Yoel Arnon talks about this problem with more detail <a href="http://msmq.spaces.live.com/Blog/cns!1pGjsZEQBluYM9y4YjJoNkTg!113.entry" title="Counting the number of messages in a queue">here</a> and <a href="http://msmq.spaces.live.com/blog/cns!393534E869CE55B7!121.entry" title="Counting messages in Queue - the .NET version">here</a>. After reading that, we learn that there are three ways to overcome this limitation: using the MSMQ performance counters (with the .NET Performance Counter API or via WMI), using the MSMQ COM wrapper, or using the MSMQ Admin API directly. The first option is not very reliable and the second one is not available on all versions of MSMQ, so the third one is the preferable way. It&#39;s also the most complex. Jared Evans has explained how to do it using a C++ Managed wrapper <a href="http://www.jaredlog.com/?p=101">here</a>, but that approach adds some complexity to the deployment of your application. It forces you to redistribute the Microsoft Visual C++ Redistributable Package, and if you want to support the x64 versions of Windows, you have to build the C++ wrapper for both x86 and x64 and have additional logic in the application installer to know which version of your assembly to install (and the same for the Visual C++ Redistributable which also has two versions). Some months ago, I upgraded my home PC to Windows Vista x64, so at the time I decided to develop a C# only solution for this, as there wasn&#39;t any publicly available on the net.</p>
<p>
	The first approach I tried was to look at the mq.h file and translate all the required structures to C#. This proved to be a nightmare, as at the time the <a href="http://www.codeplex.com/clrinterop">P/Invoke Interop Assistant</a> hadn&#39;t been created yet and the structures proved to be a little complex. So instead of trying to translate the whole structures correctly, I turned on the debugger and started examining the fields that were really needed, defining dummy spacer fields for the rest. This took a while, but it was worth it. Here&#39;s the code:</p>
<script src="https://gist.github.com/1225789.js"></script>
<p>
	Note that you&#39;ll have to go to the project properties and check the &quot;Allow unsafe code&quot; option for this to build.</p>
<p>
	After building and running, it should give you the following output:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Count should be 0: 0
</span><span class='line'>Count should be 1: 1
</span><span class='line'>Count should be 2: 2
</span><span class='line'>Count should be 1: 1
</span><span class='line'>Count should be 2: 2
</span><span class='line'>Count should be 0: 0</span></code></pre></td></tr></table></div></figure>
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/2/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>About me</h1>
  <p>I&#8217;m a Software Developer interested in Functional Programming, Machine Learning, and User Experience Design</p>
  <iframe src="http://githubbadge.appspot.com/badge/ovatsus?a=0" style="border: 0;height: 112px;width: 200px;overflow: hidden;" frameBorder=0></iframe>
</section>
<section>
  <h1>Projects</h1>
  <ul>
    <li><a href="http://fsharp.github.io/FSharp.Data/">FSharp.Data</a></li>
    <li><a href="http://windowsphone.com/s?appId=ef62d461-861c-4a9f-9198-8768532cc6aa"><img src="https://f.cloud.github.com/assets/738761/901479/21504cbe-fb80-11e2-8282-8331c5465d67.png" style="margin:-7px 0px -7px -7px;width:40px;vertical-align:middle;height:40px;border:0;box-shadow:none" />UK Trains</a></li>
    <!--<li><a href="http://windowsphone.com/s?2d4c7bff-bbea-400d-a95b-d2b60cb1933b"><img src="https://f.cloud.github.com/assets/738761/901479/21504cbe-fb80-11e2-8282-8331c5465d67.png" style="margin:-7px 0px -7px -7px;width:40px;vertical-align:middle;height:40px;border:0;box-shadow:none" />Ireland Trains</a></li>&#8211;>
    <li><a href="http://windowsphone.com/s?appId=aca60941-2945-49e7-afd2-adbe5625df12"><img src="https://f.cloud.github.com/assets/738761/901479/21504cbe-fb80-11e2-8282-8331c5465d67.png" style="margin:-7px 0px -7px -7px;width:40px;vertical-align:middle;height:40px;border:0;box-shadow:none" />Learn On The Go</a></li>
  </ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/10/14/fsharp-for-screen-scraping">F# for Screen Scraping</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/21/fsharp-data-1-1-9-released">FSharp.Data 1.1.9 released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/05/13/building-type-providers-part1">Building Type Providers - Part 1</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/02/24/fsharp-windows-phone-7-visual-studio-2012">F#, Windows Phone 7 & Visual Studio 2012</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/10/27/f-as-a-octavematlab-replacement-for-machine-learning">F# as a Octave/Matlab replacement for Machine Learning</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Tags</h1>
  <span id="tag-cloud">
    <a href='/blog/tags/ajax' style='font-size: 106.66666666666667%'>AJAX</a> <a href='/blog/tags/blogging' style='font-size: 106.66666666666667%'>Blogging</a> <a href='/blog/tags/code-generation' style='font-size: 106.66666666666667%'>Code Generation</a> <a href='/blog/tags/css' style='font-size: 106.66666666666667%'>CSS</a> <a href='/blog/tags/f-' style='font-size: 140.0%'>F#</a> <a href='/blog/tags/htmlagilitypack' style='font-size: 106.66666666666667%'>HtmlAgilityPack</a> <a href='/blog/tags/linq' style='font-size: 120.0%'>LINQ</a> <a href='/blog/tags/machine-learning' style='font-size: 106.66666666666667%'>Machine Learning</a> <a href='/blog/tags/msmq' style='font-size: 106.66666666666667%'>MSMQ</a> <a href='/blog/tags/outsystems' style='font-size: 160.0%'>OutSystems</a> <a href='/blog/tags/presharp' style='font-size: 106.66666666666667%'>PreSharp</a> <a href='/blog/tags/screen-scraping' style='font-size: 106.66666666666667%'>Screen Scraping</a> <a href='/blog/tags/sharpdevelop' style='font-size: 106.66666666666667%'>SharpDevelop</a> <a href='/blog/tags/type-providers' style='font-size: 113.33333333333333%'>Type Providers</a> <a href='/blog/tags/windows-phone' style='font-size: 106.66666666666667%'>Windows Phone</a> <a href='/blog/tags/word' style='font-size: 106.66666666666667%'>Word</a> <a href='/blog/tags/wpf' style='font-size: 113.33333333333333%'>WPF</a> <a href='/blog/tags/xml' style='font-size: 106.66666666666667%'>XML</a> 
  </span>
</section>

<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("ovatsus", 5, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/ovatsus" class="twitter-follow-button" data-show-count="false">Follow @ovatsus</a>
  
</section>


  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Gustavo Guerra -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
  - <span class="credit">Theme by <a href="http://www.gehaxelt.in">Gehaxelt</a></span>
  <span class="credit">and <a href="http://www.it-solutions-neef.de">IT Solutions Neef</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'codebesideblog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
