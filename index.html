
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Code Beside</title>
  <meta name="author" content="Gustavo Guerra">

  
  <meta name="description" content="One of the many things F# is great for is screen scraping. Here&#8217;s why: Downloading multiple pages asynchronously and in parallel is trivial &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.codebeside.org/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds.feedburner.com/CodeBeside" rel="alternate" title="Code Beside" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-5385973-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Code Beside</a></h1>
  
  <div style="float:right; margin-top:20px; margin-right:20px">
    <a href="http://twitter.com/ovatsus" title="Twitter"><img src="/images/ico_twitter.png" /></a>
    <a href="http://github.com/ovatsus" title="GitHub"/><img src="/images/ico_github.png" /></a>
    <a href="http://www.linkedin.com/in/ovatsus" title="LinkedIn"><img src="/images/ico_linkedin.png" /></a>
    <a href="http://feeds.feedburner.com/CodeBeside" title="subscribe via RSS"><img src="/images/ico_rss.png" /></a>
  </div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <!--<li><a href="http://feeds.feedburner.com/CodeBeside" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>-->
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:blog.codebeside.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="http://www.google.com/recaptcha/mailhide/d?k=01fvxbLCjfbApKdVLPRXZpew==&c=-9MautyEaQLUV3lZJtarnYj7m_iIE1vmrl9MSiLGGbg=">Contact</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/10/14/fsharp-for-screen-scraping">F# for Screen Scraping</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-14T23:50:00+01:00" pubdate data-updated="true">Oct 14<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/10/14/fsharp-for-screen-scraping#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>One of the many things F# is great for is screen scraping. Here&#8217;s why:</p>

<ul>
<li>Downloading multiple pages asynchronously and in parallel is trivial with F#&#8217;s async support</li>
<li>Navigating the HTML DOM is a great fit for higher order data processing combined with partial application</li>
<li>F# Interactive really shines in iterative processes like this, where you try something out, see it didn&#8217;t work quite well, and keep adjusting until you get it right. Doing a full compile-run cycle on each iteration instead of simply evaluating in the REPL would make this task take much longer</li>
</ul>


<p><a href="http://htmlagilitypack.codeplex.com/">Html Agility Pack</a> is the obvious candidate to use for screen scraping in .NET, but like other LINQ-like libraries that rely heavily on extension methods, its API isn&#8217;t ideal for use in F#. A simple wrapper will take care of that problem:</p>

<figure class='code'><figcaption><span>An F# wrapper for HtmlAgilityPack - HtmlAgilityPack.FSharp.fs </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
</pre></td><td class='code'><pre><code class='fsharp'><span class='line'>
</span><span class='line'><span class="k">module</span> <span class="nn">HtmlAgilityPack</span><span class="p">.</span><span class="nc">FSharp</span>
</span><span class='line'>
</span><span class='line'><span class="k">open</span> <span class="nc">HtmlAgilityPack</span>
</span><span class='line'>
</span><span class='line'><span class="k">type</span> <span class="nc">HtmlNode</span> <span class="k">with</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">member</span> <span class="n">x</span><span class="o">.</span><span class="nc">FollowingSibling</span> <span class="n">name</span> <span class="o">=</span>
</span><span class='line'>        <span class="k">let</span> <span class="n">sibling</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="nc">NextSibling</span>
</span><span class='line'>        <span class="k">if</span> <span class="n">sibling</span> <span class="o">=</span> <span class="k">null</span> <span class="k">then</span>
</span><span class='line'>            <span class="k">null</span>
</span><span class='line'>        <span class="k">elif</span> <span class="n">sibling</span><span class="o">.</span><span class="nc">Name</span> <span class="o">=</span> <span class="n">name</span> <span class="k">then</span>
</span><span class='line'>            <span class="n">sibling</span>
</span><span class='line'>        <span class="k">else</span>
</span><span class='line'>            <span class="n">sibling</span><span class="o">.</span><span class="nc">FollowingSibling</span> <span class="n">name</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">member</span> <span class="n">x</span><span class="o">.</span><span class="nc">FollowingSiblings</span> <span class="n">name</span> <span class="o">=</span> <span class="n">seq</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">let</span> <span class="n">sibling</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="nc">NextSibling</span>
</span><span class='line'>        <span class="k">if</span> <span class="n">sibling</span> <span class="o">&lt;&gt;</span> <span class="k">null</span> <span class="k">then</span>
</span><span class='line'>            <span class="k">if</span> <span class="n">sibling</span><span class="o">.</span><span class="nc">Name</span> <span class="o">=</span> <span class="n">name</span> <span class="k">then</span>
</span><span class='line'>                <span class="k">yield</span> <span class="n">sibling</span>
</span><span class='line'>            <span class="k">yield</span><span class="o">!</span> <span class="n">sibling</span><span class="o">.</span><span class="nc">FollowingSiblings</span> <span class="n">name</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">member</span> <span class="n">x</span><span class="o">.</span><span class="nc">PrecedingSibling</span> <span class="n">name</span> <span class="o">=</span>
</span><span class='line'>        <span class="k">let</span> <span class="n">sibling</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="nc">PreviousSibling</span>
</span><span class='line'>        <span class="k">if</span> <span class="n">sibling</span> <span class="o">=</span> <span class="k">null</span> <span class="k">then</span>
</span><span class='line'>            <span class="k">null</span>
</span><span class='line'>        <span class="k">elif</span> <span class="n">sibling</span><span class="o">.</span><span class="nc">Name</span> <span class="o">=</span> <span class="n">name</span> <span class="k">then</span>
</span><span class='line'>            <span class="n">sibling</span>
</span><span class='line'>        <span class="k">else</span>
</span><span class='line'>            <span class="n">sibling</span><span class="o">.</span><span class="nc">PrecedingSibling</span> <span class="n">name</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">member</span> <span class="n">x</span><span class="o">.</span><span class="nc">PrecedingSiblings</span> <span class="n">name</span> <span class="o">=</span> <span class="n">seq</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">let</span> <span class="n">sibling</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="nc">PreviousSibling</span>
</span><span class='line'>        <span class="k">if</span> <span class="n">sibling</span> <span class="o">&lt;&gt;</span> <span class="k">null</span> <span class="k">then</span>
</span><span class='line'>            <span class="k">if</span> <span class="n">sibling</span><span class="o">.</span><span class="nc">Name</span> <span class="o">=</span> <span class="n">name</span> <span class="k">then</span>
</span><span class='line'>                <span class="k">yield</span> <span class="n">sibling</span>
</span><span class='line'>            <span class="k">yield</span><span class="o">!</span> <span class="n">sibling</span><span class="o">.</span><span class="nc">PrecedingSiblings</span> <span class="n">name</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">let</span> <span class="n">parent</span> <span class="o">(</span><span class="n">node</span> <span class="o">:</span> <span class="nc">HtmlNode</span><span class="o">)</span> <span class="o">=</span>
</span><span class='line'>    <span class="n">node</span><span class="o">.</span><span class="nc">ParentNode</span>
</span><span class='line'>
</span><span class='line'><span class="k">let</span> <span class="n">element</span> <span class="n">name</span> <span class="o">(</span><span class="n">node</span> <span class="o">:</span> <span class="nc">HtmlNode</span><span class="o">)</span> <span class="o">=</span>
</span><span class='line'>    <span class="n">node</span><span class="o">.</span><span class="nc">Element</span> <span class="n">name</span>
</span><span class='line'>
</span><span class='line'><span class="k">let</span> <span class="n">elements</span> <span class="n">name</span> <span class="o">(</span><span class="n">node</span> <span class="o">:</span> <span class="nc">HtmlNode</span><span class="o">)</span> <span class="o">=</span>
</span><span class='line'>    <span class="n">node</span><span class="o">.</span><span class="nc">Elements</span> <span class="n">name</span>
</span><span class='line'>
</span><span class='line'><span class="k">let</span> <span class="n">descendants</span> <span class="n">name</span> <span class="o">(</span><span class="n">node</span> <span class="o">:</span> <span class="nc">HtmlNode</span><span class="o">)</span> <span class="o">=</span>
</span><span class='line'>    <span class="n">node</span><span class="o">.</span><span class="nc">Descendants</span> <span class="n">name</span>
</span><span class='line'>
</span><span class='line'><span class="k">let</span> <span class="n">descendantsAndSelf</span> <span class="n">name</span> <span class="o">(</span><span class="n">node</span> <span class="o">:</span> <span class="nc">HtmlNode</span><span class="o">)</span> <span class="o">=</span>
</span><span class='line'>    <span class="n">node</span><span class="o">.</span><span class="nc">DescendantsAndSelf</span> <span class="n">name</span>
</span><span class='line'>
</span><span class='line'><span class="k">let</span> <span class="n">ancestors</span> <span class="n">name</span> <span class="o">(</span><span class="n">node</span> <span class="o">:</span> <span class="nc">HtmlNode</span><span class="o">)</span> <span class="o">=</span>
</span><span class='line'>    <span class="n">node</span><span class="o">.</span><span class="nc">Ancestors</span> <span class="n">name</span>
</span><span class='line'>
</span><span class='line'><span class="k">let</span> <span class="n">ancestorsAndSelf</span> <span class="n">name</span> <span class="o">(</span><span class="n">node</span> <span class="o">:</span> <span class="nc">HtmlNode</span><span class="o">)</span> <span class="o">=</span>
</span><span class='line'>    <span class="n">node</span><span class="o">.</span><span class="nc">AncestorsAndSelf</span> <span class="n">name</span>
</span><span class='line'>
</span><span class='line'><span class="k">let</span> <span class="n">followingSibling</span> <span class="n">name</span> <span class="o">(</span><span class="n">node</span> <span class="o">:</span> <span class="nc">HtmlNode</span><span class="o">)</span> <span class="o">=</span>
</span><span class='line'>    <span class="n">node</span><span class="o">.</span><span class="nc">FollowingSibling</span> <span class="n">name</span>
</span><span class='line'>
</span><span class='line'><span class="k">let</span> <span class="n">followingSiblings</span> <span class="n">name</span> <span class="o">(</span><span class="n">node</span> <span class="o">:</span> <span class="nc">HtmlNode</span><span class="o">)</span> <span class="o">=</span>
</span><span class='line'>    <span class="n">node</span><span class="o">.</span><span class="nc">FollowingSiblings</span> <span class="n">name</span>
</span><span class='line'>
</span><span class='line'><span class="k">let</span> <span class="n">precedingSibling</span> <span class="n">name</span> <span class="o">(</span><span class="n">node</span> <span class="o">:</span> <span class="nc">HtmlNode</span><span class="o">)</span> <span class="o">=</span>
</span><span class='line'>    <span class="n">node</span><span class="o">.</span><span class="nc">PrecedingSibling</span> <span class="n">name</span>
</span><span class='line'>
</span><span class='line'><span class="k">let</span> <span class="n">precedingSiblings</span> <span class="n">name</span> <span class="o">(</span><span class="n">node</span> <span class="o">:</span> <span class="nc">HtmlNode</span><span class="o">)</span> <span class="o">=</span>
</span><span class='line'>    <span class="n">node</span><span class="o">.</span><span class="nc">PrecedingSiblings</span> <span class="n">name</span>
</span><span class='line'>
</span><span class='line'><span class="k">let</span> <span class="k">inline</span> <span class="n">innerText</span> <span class="o">(</span><span class="n">node</span> <span class="o">:</span> <span class="nc">HtmlNode</span><span class="o">)</span> <span class="o">=</span>
</span><span class='line'>    <span class="n">node</span><span class="o">.</span><span class="nc">InnerText</span>
</span><span class='line'>
</span><span class='line'><span class="k">let</span> <span class="k">inline</span> <span class="n">attr</span> <span class="n">name</span> <span class="o">(</span><span class="n">node</span> <span class="o">:</span> <span class="nc">HtmlNode</span><span class="o">)</span> <span class="o">=</span>
</span><span class='line'>    <span class="n">node</span><span class="o">.</span><span class="nc">GetAttributeValue</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="s2">&quot;&quot;</span><span class="o">)</span>
</span><span class='line'>
</span><span class='line'><span class="k">let</span> <span class="k">inline</span> <span class="o">(?)</span> <span class="o">(</span><span class="n">node</span> <span class="o">:</span> <span class="nc">HtmlNode</span><span class="o">)</span> <span class="n">name</span> <span class="o">=</span>
</span><span class='line'>    <span class="n">attr</span> <span class="n">name</span> <span class="n">node</span>
</span><span class='line'>
</span><span class='line'><span class="k">let</span> <span class="k">inline</span> <span class="n">hasAttr</span> <span class="n">name</span> <span class="n">value</span> <span class="n">node</span> <span class="o">=</span>
</span><span class='line'>    <span class="n">attr</span> <span class="n">name</span> <span class="n">node</span> <span class="o">=</span> <span class="n">value</span>
</span><span class='line'>
</span><span class='line'><span class="k">let</span> <span class="k">inline</span> <span class="n">hasId</span> <span class="n">value</span> <span class="n">node</span> <span class="o">=</span>
</span><span class='line'>    <span class="n">hasAttr</span> <span class="s2">&quot;id&quot;</span> <span class="n">value</span> <span class="n">node</span>
</span><span class='line'>
</span><span class='line'><span class="k">let</span> <span class="k">inline</span> <span class="n">hasClass</span> <span class="n">value</span> <span class="n">node</span> <span class="o">=</span>
</span><span class='line'>    <span class="n">hasAttr</span> <span class="s2">&quot;class&quot;</span> <span class="n">value</span> <span class="n">node</span>
</span><span class='line'>
</span><span class='line'><span class="k">let</span> <span class="k">inline</span> <span class="n">hasText</span> <span class="n">value</span> <span class="o">(</span><span class="n">node</span> <span class="o">:</span> <span class="nc">HtmlNode</span><span class="o">)</span> <span class="o">=</span>
</span><span class='line'>    <span class="n">node</span><span class="o">.</span><span class="nc">InnerText</span> <span class="o">=</span> <span class="n">value</span>
</span><span class='line'>
</span><span class='line'><span class="k">let</span> <span class="n">createDoc</span> <span class="n">html</span> <span class="o">=</span>
</span><span class='line'>    <span class="k">let</span> <span class="n">doc</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HtmlDocument</span><span class="bp">()</span>
</span><span class='line'>    <span class="n">doc</span><span class="o">.</span><span class="nc">LoadHtml</span> <span class="n">html</span>
</span><span class='line'>    <span class="n">doc</span><span class="o">.</span><span class="nc">DocumentNode</span>
</span></code></pre></td></tr></table></div></figure>


<p>When we leave the &#8220;target&#8221; of an operation as the last parameter of a function, we can leverage partial application to remove the need to create anonymous lambdas when using higher order functions such as the ones needed for DOM traversing.</p>

<p>In this case, by taking the <code>this</code> parameter of the C# methods and putting it as the last parameter of our wrapper functions <code>elements</code>, <code>descendants</code>, <code>innerText</code>, etc., our code is now much easier to read and to understand than if we used the Html Agility Pack methods directly.</p>

<p>As an example, here is a small script that I used when developing one of my Windows Phone apps to get the list if all the rail stations in Ireland together with their coordinates:</p>

<figure class='code'><figcaption><span>IrelandRailStations.fsx </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
</pre></td><td class='code'><pre><code class='fsharp'><span class='line'>
</span><span class='line'><span class="o">#</span><span class="n">r</span> <span class="s2">&quot;System.Net&quot;</span>
</span><span class='line'><span class="o">#</span><span class="n">r</span> <span class="s2">&quot;../lib/portable/FSharp.Data.dll&quot;</span>
</span><span class='line'><span class="o">#</span><span class="n">r</span> <span class="s2">&quot;../packages/HtmlAgilityPack-PCL.1.4.6/lib/HtmlAgilityPack-PCL.dll&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="o">#</span><span class="n">load</span> <span class="s2">&quot;HtmlAgilityPack.FSharp.fs&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// get a page that lists the stations that start with firstLetter</span>
</span><span class='line'><span class="k">let</span> <span class="n">getStationListPage</span> <span class="n">firstLetter</span> <span class="o">=</span>
</span><span class='line'>    <span class="s2">&quot;http://www.irishrail.ie/cat_stations_list.jsp?letter=&quot;</span> <span class="o">+</span> <span class="o">(</span><span class="kt">string</span> <span class="n">firstLetter</span><span class="o">)</span>
</span><span class='line'>    <span class="o">|&gt;</span> <span class="nn">Http</span><span class="p">.</span><span class="nc">AsyncRequestString</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// get all the links to stations inside the &lt;ul class=&quot;results&quot;&gt;</span>
</span><span class='line'><span class="k">let</span> <span class="n">getStations</span> <span class="n">stationListPage</span> <span class="o">=</span>
</span><span class='line'>    <span class="n">stationListPage</span>
</span><span class='line'>    <span class="o">|&gt;</span> <span class="n">createDoc</span>
</span><span class='line'>    <span class="o">|&gt;</span> <span class="n">descendants</span> <span class="s2">&quot;ul&quot;</span>
</span><span class='line'>    <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">filter</span> <span class="o">(</span><span class="n">hasClass</span> <span class="s2">&quot;results&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">head</span>
</span><span class='line'>    <span class="o">|&gt;</span> <span class="n">descendants</span> <span class="s2">&quot;a&quot;</span>
</span><span class='line'>    <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">map</span> <span class="o">(</span><span class="n">attr</span> <span class="s2">&quot;href&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">toArray</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// get the page for a station</span>
</span><span class='line'><span class="k">let</span> <span class="n">getStationPage</span> <span class="n">station</span> <span class="o">=</span>
</span><span class='line'>    <span class="s2">&quot;http://www.irishrail.ie/&quot;</span> <span class="o">+</span> <span class="n">station</span>
</span><span class='line'>    <span class="o">|&gt;</span> <span class="nn">Http</span><span class="p">.</span><span class="nc">AsyncRequestString</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// get the latitude and longitude of a station from the google maps link in the station page</span>
</span><span class='line'><span class="k">let</span> <span class="n">getCoordinates</span> <span class="n">stationPage</span> <span class="o">=</span>
</span><span class='line'>    <span class="k">let</span> <span class="n">googleMapsLink</span> <span class="o">=</span>
</span><span class='line'>        <span class="n">stationPage</span>
</span><span class='line'>        <span class="o">|&gt;</span> <span class="n">createDoc</span>
</span><span class='line'>        <span class="o">|&gt;</span> <span class="n">descendants</span> <span class="s2">&quot;div&quot;</span>
</span><span class='line'>        <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">filter</span> <span class="o">(</span><span class="n">hasId</span> <span class="s2">&quot;map-ordnance&quot;</span><span class="o">)</span>
</span><span class='line'>        <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">head</span>
</span><span class='line'>        <span class="o">|&gt;</span> <span class="n">followingSibling</span> <span class="s2">&quot;ul&quot;</span>
</span><span class='line'>        <span class="o">|&gt;</span> <span class="n">descendants</span> <span class="s2">&quot;a&quot;</span>
</span><span class='line'>        <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">head</span>
</span><span class='line'>        <span class="o">|&gt;</span> <span class="n">attr</span> <span class="s2">&quot;href&quot;</span>
</span><span class='line'>    <span class="k">let</span> <span class="n">split</span> <span class="o">(</span><span class="n">c</span><span class="o">:</span><span class="kt">char</span><span class="o">)</span> <span class="o">(</span><span class="n">s</span><span class="o">:</span><span class="kt">string</span><span class="o">)</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="nc">Split</span> <span class="n">c</span>
</span><span class='line'>    <span class="k">let</span> <span class="o">[|</span> <span class="s2">&quot;ll&quot;</span> <span class="o">;</span> <span class="n">coords</span> <span class="o">|]</span> <span class="o">=</span>
</span><span class='line'>        <span class="nc">Uri</span><span class="o">(</span><span class="n">googleMapsLink</span><span class="o">).</span><span class="nc">Query</span>
</span><span class='line'>        <span class="o">|&gt;</span> <span class="n">split</span> <span class="sc">&#39;&amp;&#39;</span>
</span><span class='line'>        <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">map</span> <span class="o">(</span><span class="n">split</span> <span class="sc">&#39;=&#39;</span><span class="o">)</span>
</span><span class='line'>        <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">filter</span> <span class="o">(</span><span class="nn">Seq</span><span class="p">.</span><span class="n">head</span> <span class="o">&gt;&gt;</span> <span class="o">(=)</span> <span class="s2">&quot;ll&quot;</span><span class="o">)</span>
</span><span class='line'>        <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">head</span>
</span><span class='line'>    <span class="k">let</span> <span class="o">[|</span> <span class="n">lat</span><span class="o">;</span> <span class="n">long</span> <span class="o">|]</span> <span class="o">=</span> <span class="n">coords</span> <span class="o">|&gt;</span> <span class="n">split</span> <span class="sc">&#39;,&#39;</span> <span class="o">|&gt;</span> <span class="nn">Array</span><span class="p">.</span><span class="n">map</span> <span class="kt">float</span>
</span><span class='line'>    <span class="n">lat</span><span class="o">,</span> <span class="n">long</span>
</span><span class='line'>
</span><span class='line'><span class="k">let</span> <span class="n">stationsAndCoords</span> <span class="o">=</span>
</span><span class='line'>    <span class="k">let</span> <span class="n">stations</span> <span class="o">=</span>
</span><span class='line'>        <span class="o">[</span><span class="sc">&#39;A&#39;</span><span class="o">..</span><span class="sc">&#39;Z&#39;</span><span class="o">]</span>
</span><span class='line'>        <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">map</span> <span class="n">getStationListPage</span>
</span><span class='line'>        <span class="o">|&gt;</span> <span class="nn">Async</span><span class="p">.</span><span class="nc">Parallel</span>
</span><span class='line'>        <span class="o">|&gt;</span> <span class="nn">Async</span><span class="p">.</span><span class="nc">RunSynchronously</span>
</span><span class='line'>        <span class="o">|&gt;</span> <span class="nn">Array</span><span class="p">.</span><span class="n">collect</span> <span class="n">getStations</span>
</span><span class='line'>    <span class="k">let</span> <span class="n">lat</span><span class="o">,</span> <span class="n">long</span> <span class="o">=</span>
</span><span class='line'>        <span class="n">stations</span>
</span><span class='line'>        <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">map</span> <span class="n">getStationPage</span>
</span><span class='line'>        <span class="o">|&gt;</span> <span class="nn">Async</span><span class="p">.</span><span class="nc">Parallel</span>
</span><span class='line'>        <span class="o">|&gt;</span> <span class="nn">Async</span><span class="p">.</span><span class="nc">RunSynchronously</span>
</span><span class='line'>        <span class="o">|&gt;</span> <span class="nn">Array</span><span class="p">.</span><span class="n">map</span> <span class="n">getCoordinates</span>
</span><span class='line'>        <span class="o">|&gt;</span> <span class="nn">Array</span><span class="p">.</span><span class="n">unzip</span>
</span><span class='line'>    <span class="k">let</span> <span class="n">stations</span> <span class="o">=</span>
</span><span class='line'>        <span class="n">stations</span>
</span><span class='line'>        <span class="o">|&gt;</span> <span class="nn">Array</span><span class="p">.</span><span class="n">map</span> <span class="nn">Uri</span><span class="p">.</span><span class="nc">UnescapeDataString</span>
</span><span class='line'>    <span class="nn">Array</span><span class="p">.</span><span class="n">zip3</span> <span class="n">stations</span> <span class="n">lat</span> <span class="n">long</span>
</span></code></pre></td></tr></table></div></figure>


<p>Output:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='fsharp'><span class='line'><span class="k">val</span> <span class="n">stationsAndCoords</span> <span class="o">:</span> <span class="o">(</span><span class="kt">string</span> <span class="o">*</span> <span class="kt">float</span> <span class="o">*</span> <span class="kt">float</span><span class="o">)</span> <span class="bp">[]</span> <span class="o">=</span>
</span><span class='line'>  <span class="o">[|(</span><span class="s2">&quot;Adamstown&quot;</span><span class="o">,</span> <span class="mi">53</span><span class="o">.</span><span class="mi">335285</span><span class="o">,</span> <span class="o">-</span><span class="mi">6</span><span class="o">.</span><span class="mi">4523325</span><span class="o">);</span> <span class="o">(</span><span class="s2">&quot;Ardrahan&quot;</span><span class="o">,</span> <span class="mi">53</span><span class="o">.</span><span class="mi">157177</span><span class="o">,</span> <span class="o">-</span><span class="mi">8</span><span class="o">.</span><span class="mi">814831</span><span class="o">);</span>
</span><span class='line'>    <span class="o">(</span><span class="s2">&quot;Arklow&quot;</span><span class="o">,</span> <span class="mi">52</span><span class="o">.</span><span class="mi">793163</span><span class="o">,</span> <span class="o">-</span><span class="mi">6</span><span class="o">.</span><span class="mi">159939</span><span class="o">);</span> <span class="o">(</span><span class="s2">&quot;Ashtown&quot;</span><span class="o">,</span> <span class="mi">53</span><span class="o">.</span><span class="mi">37552</span><span class="o">,</span> <span class="o">-</span><span class="mi">6</span><span class="o">.</span><span class="mi">3313503</span><span class="o">);</span>
</span><span class='line'>    <span class="o">(</span><span class="s2">&quot;Athenry&quot;</span><span class="o">,</span> <span class="mi">53</span><span class="o">.</span><span class="mi">30153</span><span class="o">,</span> <span class="o">-</span><span class="mi">8</span><span class="o">.</span><span class="mi">748547</span><span class="o">);</span> <span class="o">(</span><span class="s2">&quot;Athlone&quot;</span><span class="o">,</span> <span class="mi">53</span><span class="o">.</span><span class="mi">427322</span><span class="o">,</span> <span class="o">-</span><span class="mi">7</span><span class="o">.</span><span class="mi">9368286</span><span class="o">);</span>
</span><span class='line'>    <span class="o">(</span><span class="s2">&quot;Athy&quot;</span><span class="o">,</span> <span class="mi">52</span><span class="o">.</span><span class="mi">991997</span><span class="o">,</span> <span class="o">-</span><span class="mi">6</span><span class="o">.</span><span class="mi">976196</span><span class="o">);</span> <span class="o">(</span><span class="s2">&quot;Attymon&quot;</span><span class="o">,</span> <span class="mi">53</span><span class="o">.</span><span class="mi">321205</span><span class="o">,</span> <span class="o">-</span><span class="mi">8</span><span class="o">.</span><span class="mi">606078</span><span class="o">);</span>
</span><span class='line'>  <span class="o">...|]</span>
</span></code></pre></td></tr></table></div></figure>


<p>You can also see that the same pattern was used for making the <code>String.Split</code> function play well with partial application.</p>

<p>Another neat feature of F# for scripting (I wouldn&#8217;t recommend incorporating it in production code), is the ability to de-structure arrays in one liners, as done in <code>let [| "ll" ; coords |] =</code> and <code>let [| lat; long |] =</code>. The compiler will emit a warning saying that the match is not exhaustive, telling us that this might backfire if there are less than two elements in the array, but for the purpose of a one shot script to download some data it&#8217;s fine.</p>

<p>And to give a second example, here&#8217;s a snippet from my Learn On The Go app that processes the html of the lecture videos page page of a Coursera course:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
</pre></td><td class='code'><pre><code class='fsharp'><span class='line'><span class="k">let</span> <span class="n">lectureSections</span> <span class="o">=</span>
</span><span class='line'>    <span class="k">let</span> <span class="n">trimAndUnescape</span> <span class="o">(</span><span class="n">text</span><span class="o">:</span><span class="kt">string</span><span class="o">)</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="nc">Replace</span><span class="o">(</span><span class="s2">&quot;&amp;nbsp;&quot;</span><span class="o">,</span> <span class="s2">&quot;&quot;</span><span class="o">).</span><span class="nc">Trim</span><span class="bp">()</span><span class="o">.</span><span class="nc">Replace</span><span class="o">(</span><span class="s2">&quot;&amp;amp;&quot;</span><span class="o">,</span> <span class="s2">&quot;&amp;&quot;</span><span class="o">).</span><span class="nc">Replace</span><span class="o">(</span><span class="s2">&quot;&amp;quot;&quot;</span><span class="o">,</span> <span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">&quot;</span><span class="o">).</span><span class="nc">Replace</span><span class="o">(</span><span class="s2">&quot;apos;&quot;</span><span class="o">,</span> <span class="s2">&quot;&#39;&quot;</span><span class="o">).</span><span class="nc">Replace</span><span class="o">(</span><span class="s2">&quot;&amp;lt;&quot;</span><span class="o">,</span> <span class="s2">&quot;&lt;&quot;</span><span class="o">).</span><span class="nc">Replace</span><span class="o">(</span><span class="s2">&quot;&amp;gt;&quot;</span><span class="o">,</span> <span class="s2">&quot;&gt;&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="k">let</span> <span class="n">endsWith</span> <span class="n">suffix</span> <span class="o">(</span><span class="n">text</span><span class="o">:</span><span class="kt">string</span><span class="o">)</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="nc">EndsWith</span> <span class="n">suffix</span>
</span><span class='line'>    <span class="n">createDoc</span> <span class="n">lecturesHtmlStr</span>
</span><span class='line'>    <span class="o">|&gt;</span> <span class="n">descendants</span> <span class="s2">&quot;h3&quot;</span>
</span><span class='line'>    <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">map</span> <span class="o">(</span><span class="k">fun</span> <span class="n">h3</span> <span class="o">-&gt;</span>
</span><span class='line'>        <span class="k">let</span> <span class="n">title</span> <span class="o">=</span> <span class="n">h3</span> <span class="o">|&gt;</span> <span class="n">innerText</span> <span class="o">|&gt;</span> <span class="n">trimAndUnescape</span>
</span><span class='line'>        <span class="k">let</span> <span class="n">completed</span> <span class="o">=</span> <span class="n">h3</span> <span class="o">|&gt;</span> <span class="n">parent</span> <span class="o">|&gt;</span> <span class="n">hasClass</span> <span class="s2">&quot;course-item-list-header contracted&quot;</span>
</span><span class='line'>        <span class="k">let</span> <span class="n">ul</span> <span class="o">=</span>
</span><span class='line'>            <span class="n">h3</span>
</span><span class='line'>            <span class="o">|&gt;</span> <span class="n">parent</span>
</span><span class='line'>            <span class="o">|&gt;</span> <span class="n">followingSibling</span> <span class="s2">&quot;ul&quot;</span>
</span><span class='line'>        <span class="n">ul</span><span class="o">,</span> <span class="n">title</span><span class="o">,</span> <span class="n">completed</span><span class="o">)</span>
</span><span class='line'>    <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">filter</span> <span class="o">(</span><span class="k">fun</span> <span class="o">(</span><span class="n">ul</span><span class="o">,</span> <span class="o">_,</span> <span class="o">_)</span> <span class="o">-&gt;</span> <span class="n">ul</span> <span class="o">&lt;&gt;</span> <span class="k">null</span><span class="o">)</span>
</span><span class='line'>    <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">map</span> <span class="o">(</span><span class="k">fun</span> <span class="o">(</span><span class="n">ul</span><span class="o">,</span> <span class="n">title</span><span class="o">,</span> <span class="n">completed</span><span class="o">)</span> <span class="o">-&gt;</span>
</span><span class='line'>        <span class="k">let</span> <span class="n">lectures</span> <span class="o">=</span>
</span><span class='line'>            <span class="n">ul</span>
</span><span class='line'>            <span class="o">|&gt;</span> <span class="n">elements</span> <span class="s2">&quot;li&quot;</span>
</span><span class='line'>            <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">map</span> <span class="o">(</span><span class="n">element</span> <span class="s2">&quot;a&quot;</span><span class="o">)</span>
</span><span class='line'>            <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">map</span> <span class="o">(</span><span class="k">fun</span> <span class="n">a</span> <span class="o">-&gt;</span>
</span><span class='line'>                <span class="k">let</span> <span class="n">id</span> <span class="o">=</span> <span class="n">a</span> <span class="o">|&gt;</span> <span class="n">attr</span> <span class="s2">&quot;data-lecture-id&quot;</span> <span class="o">|&gt;</span> <span class="kt">int</span>
</span><span class='line'>                <span class="k">let</span> <span class="n">title</span> <span class="o">=</span> <span class="n">innerText</span> <span class="n">a</span> <span class="o">|&gt;</span> <span class="n">trimAndUnescape</span>
</span><span class='line'>                <span class="k">let</span> <span class="n">quizAttemptedSpan</span> <span class="o">=</span> <span class="n">a</span> <span class="o">|&gt;</span> <span class="n">elements</span> <span class="s2">&quot;span&quot;</span> <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">tryFind</span> <span class="o">(</span><span class="n">hasClass</span> <span class="s2">&quot;label label-success&quot;</span><span class="o">)</span>
</span><span class='line'>                <span class="k">let</span> <span class="n">title</span><span class="o">,</span> <span class="n">quizAttempted</span> <span class="o">=</span>
</span><span class='line'>                    <span class="k">match</span> <span class="n">quizAttemptedSpan</span> <span class="k">with</span>
</span><span class='line'>                    <span class="o">|</span> <span class="nc">Some</span> <span class="n">span</span> <span class="o">-&gt;</span>
</span><span class='line'>                        <span class="n">title</span><span class="o">.</span><span class="nc">Replace</span><span class="o">(</span><span class="n">trimAndUnescape</span> <span class="n">span</span><span class="o">.</span><span class="nc">InnerText</span><span class="o">,</span> <span class="s2">&quot;&quot;</span><span class="o">).</span><span class="nc">Trim</span><span class="bp">()</span><span class="o">,</span> <span class="bp">true</span>
</span><span class='line'>                    <span class="o">|</span> <span class="nc">None</span> <span class="o">-&gt;</span> <span class="n">title</span><span class="o">,</span> <span class="bp">false</span>
</span><span class='line'>                <span class="k">let</span> <span class="n">videoUrl</span> <span class="o">=</span> <span class="n">a</span> <span class="o">|&gt;</span> <span class="n">attr</span> <span class="s2">&quot;data-modal-iframe&quot;</span>
</span><span class='line'>                <span class="k">let</span> <span class="n">lectureNotesUrl</span> <span class="o">=</span>
</span><span class='line'>                    <span class="k">let</span> <span class="n">urls</span> <span class="o">=</span> <span class="n">a</span> <span class="o">|&gt;</span> <span class="n">followingSibling</span> <span class="s2">&quot;div&quot;</span>
</span><span class='line'>                                 <span class="o">|&gt;</span> <span class="n">elements</span> <span class="s2">&quot;a&quot;</span>
</span><span class='line'>                                 <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">map</span> <span class="o">(</span><span class="n">attr</span> <span class="s2">&quot;href&quot;</span><span class="o">)</span>
</span><span class='line'>                    <span class="k">match</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">tryFind</span> <span class="o">(</span><span class="n">endsWith</span> <span class="s2">&quot;.pdf&quot;</span><span class="o">)</span> <span class="n">urls</span> <span class="k">with</span>
</span><span class='line'>                    <span class="o">|</span> <span class="nc">Some</span> <span class="n">url</span> <span class="o">-&gt;</span> <span class="n">url</span>
</span><span class='line'>                    <span class="o">|</span> <span class="o">_</span> <span class="o">-&gt;</span> <span class="s2">&quot;&quot;</span>
</span><span class='line'>                <span class="k">let</span> <span class="n">viewed</span> <span class="o">=</span> <span class="n">a</span> <span class="o">|&gt;</span> <span class="n">parent</span> <span class="o">|&gt;</span> <span class="n">hasClass</span> <span class="s2">&quot;viewed&quot;</span>
</span><span class='line'>                <span class="o">{</span> <span class="nc">Id</span> <span class="o">=</span> <span class="n">id</span>
</span><span class='line'>                  <span class="nc">Title</span> <span class="o">=</span> <span class="n">title</span>
</span><span class='line'>                  <span class="nc">VideoUrl</span> <span class="o">=</span> <span class="n">videoUrl</span>
</span><span class='line'>                  <span class="nc">LectureNotesUrl</span> <span class="o">=</span> <span class="n">lectureNotesUrl</span>
</span><span class='line'>                  <span class="nc">Viewed</span> <span class="o">=</span> <span class="n">viewed</span>
</span><span class='line'>                  <span class="nc">QuizAttempted</span> <span class="o">=</span> <span class="n">quizAttempted</span> <span class="o">})</span>
</span><span class='line'>            <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">toArray</span>
</span><span class='line'>        <span class="o">{</span> <span class="nc">Title</span> <span class="o">=</span> <span class="n">title</span>
</span><span class='line'>          <span class="nc">Completed</span> <span class="o">=</span> <span class="n">completed</span>
</span><span class='line'>          <span class="nc">Lectures</span> <span class="o">=</span> <span class="n">lectures</span> <span class="o">})</span>
</span><span class='line'>    <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">toArray</span>
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/21/fsharp-data-1-1-9-released">FSharp.Data 1.1.9 Released</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-21T22:14:00+01:00" pubdate data-updated="true">Jul 21<span>st</span>, 2013</time>
        
         | <a href="/blog/2013/07/21/fsharp-data-1-1-9-released#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>We&#8217;ve just released version <a href="http://www.nuget.org/packages/FSharp.Data/1.1.9">1.1.9</a> of <a href="http://fsharp.github.io/FSharp.Data/">FSharp.Data</a>, and I realized we&#8217;ve not been announcing new releases since version 1.1.1 when Tomas <a href="http://tomasp.net/blog/fsharp-data.aspx">first announced it</a>, so I though I&#8217;d rectify that. In addition to bug fixes, here what&#8217;s has been added to FSharp.Data since then:</p>

<ul>
<li>The behaviour of CsvProvider can be fine tuned by using the HasHeaders, Schema, IgnoreErrors, SafeMode, and PreferOptionals parameters. See the CsvProvider documentation <a href="http://fsharp.github.io/FSharp.Data/library/CsvProvider.html">here</a>.</li>
<li>The CSV Parser and Reader can now be used standalone. See the CsvFile documentation <a href="http://fsharp.github.io/FSharp.Data/library/CsvFile.html">here</a>.</li>
<li>Guid types are now supported in CsvProvider, JsonProvider, and XmlProvider.</li>
<li>Support to disable caching for CSV files too big to fit in memory.</li>
<li>Support for cookies, binary files and client certificates in FSharp.Net.Http.</li>
<li>Save, Filter, Take, TakeWhile, Skip, SkipWhile, and Truncate operations for CsvProvider and CsvFile.</li>
<li>Support for Windows Phone 7.</li>
</ul>


<p>There&#8217;s still a lot of room for improvement, and we love pull requests, so please contribute, even if it&#8217;s only fixing a typo in the docs. A getting started guide is available <a href="http://fsharp.github.io/FSharp.Data/contributing.html">here</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/05/13/building-type-providers-part1">Building Type Providers - Part 1</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-05-13T00:17:00+01:00" pubdate data-updated="true">May 13<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/05/13/building-type-providers-part1#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Type Providers are the biggest new feature of F# 3.0. They allow us to leverage the power of the static type system in areas that have typically been the territory of dynamic languages and stringly typing. A picture is worth a thousand words, so here&#8217;s 12 pictures that show type providers in action:</p>

<blockquote><p><a href="http://blogs.msdn.com/b/dsyme/archive/2013/01/30/twelve-type-providers-in-pictures.aspx">All your types are belong to us</a></p></blockquote>

<p>There are already several good samples and articles about using type providers, but there still isn&#8217;t a lot about creating type providers. Having worked recently on <a href="http://fsharp.github.com/FSharp.Data/">FSharp.Data</a> I decided to share some tips about building type providers.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2013/05/13/building-type-providers-part1">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/02/24/fsharp-windows-phone-7-visual-studio-2012">F#, Windows Phone 7 & Visual Studio 2012</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-02-24T00:00:00+00:00" pubdate data-updated="true">Feb 24<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/02/24/fsharp-windows-phone-7-visual-studio-2012#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>F# 2.0 supported Silverlight 4, Silverlight 5, and Windows Phone 7.1, as several versions of FSharp.Core.dll were
shipped as part of the standalone F# redistribution. There were even some nice <a href="http://blogs.msdn.com/b/dsyme/archive/2010/08/20/f-windows-phone-7-silverlight-templates-now-on-visual-studio-gallery.aspx">Visual Studio 2010 templates</a> made by <a href="http://bloggemdano.blogspot.co.uk/">Daniel Mohl</a>.</p>

<p>In F# 3.0 there is no standalone redistributable package anymore, and Visual Studio 2012 only ships with two versions of FSharp.Core.dll: the full .NET 4.5 version, and a portable class library version targeting Profile47 (which includes .NET 4.5, Silverlight 5.0, and .NET for Windows Store apps).</p>

<p>I tried to create versions for Windows Phone 7 and for Profile88 (which additionally includes .NET 4.0, Silverlight 4.0, and Windows Phone 7.1) from the <a href="https://github.com/fsharp/fsharp">source code</a>, and I even got them to <a href="https://github.com/fsharp/fsharp/pull/102">compile</a>, but unfortunately I still get a bunch of Invalid Program exceptions at runtime when running on the emulator or on the device for both versions.</p>

<p>So I tried another approach - to reuse the FSharp.Core.dll version from F# 2.0 - and it seems to work just fine. Type providers and other new F# 3.0 features that depend on the library won&#8217;t work, but at least we can use Visual Studio 2012 and some of the features like the triple quotes.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2013/02/24/fsharp-windows-phone-7-visual-studio-2012">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/10/27/f-as-a-octavematlab-replacement-for-machine-learning">F# as a Octave/Matlab Replacement for Machine Learning</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-27T00:00:00+01:00" pubdate data-updated="true">Oct 27<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/10/27/f-as-a-octavematlab-replacement-for-machine-learning#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>
	<strong>EDIT</strong>: As another version of the ml-class course has started, I&#39;ve made the repository private</p>
<p>
	Back when I was in college, I took three different courses that dealt with subjects related to machine learning and data mining. Although I didn&rsquo;t lose interest on those matters, my work has led me in a totally unrelated direction, so I haven&rsquo;t exercised any of that knowledge in about eight years or so. A few weeks ago, I stumbled upon Stanford&rsquo;s online class on <a href="http://www.ml-class.org">Machine Learning</a> and decided to enroll. I want to revive many of the things I have forgotten and try to put them into practice, as nowadays it&rsquo;s very easy to access large amounts of interesting data from all kinds of online sources.</p>
<p>
	The programming exercises of this class are supposed to be done in Octave or Matlab, and while I understand the advantages of these tools, my past experience (where all the exercises and projects were done either with SAS or with Matlab) shows me that not using a general purpose programming languages doesn&rsquo;t help a lot in turning academic exercises into real world programs. As professor Andrew Ng said in the introduction, one of the goals of the class is for us to put machine learning into practice in real world problems we care about, so I decided that I&rsquo;ll implement all the algorithms and exercises in F#.</p>
    </div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2011/10/27/f-as-a-octavematlab-replacement-for-machine-learning">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/10/02/introducing-presharp">Introducing PreSharp</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-02T00:00:00+01:00" pubdate data-updated="true">Oct 2<span>nd</span>, 2011</time>
        
         | <a href="/blog/2011/10/02/introducing-presharp#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Background</h3>  <p>Back in 2004, I was doing some code-generation work as part of the <a href="http://www.gsd.inesc-id.pt/project-pages/past-projects/obiwan">OBIWAN</a> project. When I started, CodeDom was being used to do the work, but I really didn’t like it because it made the generator code very hard to read and modify. Realistically, I would not need to support any other language than C#, so I started looking for alternatives. <a href="http://www.codesmithtools.com/product/generator">CodeSmith</a> was very popular at the time for generating type-safe collections (.NET 2.0 generics didn’t exist yet), but it was targeted at one-shot generations, and not at creating code generation code. Then I found a very simple tool named <a href="http://web.archive.org/web/20060726075638/http://www.inmetrix.com/">CodeGen</a> that appealed to me. I had been playing around with the <a href="http://www.boost.org/doc/libs/?view=category_Preprocessor">Boost Preprocessor library</a> recently, so I really liked the idea of using the preprocessor. I did a few tweaks to it and was able to use it for my needs at the time. Later on, around mid-2007, I needed to do code-generation again, so I took this tool and added a good amount of more power to it. At this time, it was very far apart from the original code, so I re-baptized it as PreSharp and published it to CodePlex. I never got around to do any documentation for it, so I’m making this post to try to compensate for that. I also moved the project recently from CodePlex to <a href="https://github.com/ovatsus/PreSharp">GitHub</a>.</p>
</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2011/10/02/introducing-presharp">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/09/27/microsoft-please-eat-some-more-of-your-wpf-flavored-dog-food">Microsoft: Please Eat Some More of Your WPF-flavored Dog Food</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-09-27T00:00:00+01:00" pubdate data-updated="true">Sep 27<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/09/27/microsoft-please-eat-some-more-of-your-wpf-flavored-dog-food#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>
	I have&nbsp; a love-hate relationship with WPF.</p>
<p>
	I think it is several orders of magnitude better than Windows Forms and gives developers a tremendous expressive power to materialize their ideas into good user interfaces. I wouldn&rsquo;t dream of doing many of the things I was able to do in just a few weeks in the <a href="http://www.outsystems.com/agile-platform/">Agile Platform IDE</a> in any other UI framework, even if I was given months. It&rsquo;s like going from plain C to C# 4.</p>
<p>
	But even though the concept is really good, the quality and completeness of the concrete implementation are really not there. There are just too many quirks, weird limitations, parts that don&rsquo;t play nice with others, performance problems, memory leaks, etc&#8230; And when things don&rsquo;t work as they should, many times you really have to go out of your way to be able to fix things.</p>
<p>
	I understand deadlines and priorities, and I know that probably Microsoft just had to ship something at some point, but it really seems that there was a big lack of dogfooding in the WPF case.</p>
<p>
	There&rsquo;s a striking example of this: what was the number one complaint that developers had about WPF since 2006?&hellip; Blurry text and images. And when did Microsoft fix it?&hellip; Only in 2010, when they started using WPF for Visual Studio.</p>
<p>
	Another issue that has been bugging me since I started using WPF was the airspace limitation. It seems that <a href="http://www.jonathanantoine.com/2011/09/24/wpf-4-5-%E2%80%93-part-8-no-more-airspace-problems-integrating-wpf-with-win32/">it&rsquo;s finally going to be fixed in 4.5</a>. Why do I think it&rsquo;s being solved now? Because they probably needed some native WinRT component to play nice with WPF&hellip;</p>
<p>
	I think eating you own dog food is really important. At <a href="http://www.outsystems.com">OutSystems</a> we use our product to build all web applications: the R&amp;D apps (bug tracking, project management, continuous integration&hellip;), the HR apps (directory, vacations, recruiting&hellip;), the sales apps, the marketing apps, the corporate site, the community forums, etc&hellip; And I can say with a great deal of confidence that if we didn&rsquo;t do that, our product wouldn&rsquo;t be half of what it is today.</p>
<p>
	Bottom line: we as developers should always try to eat our own dog food as much as we can. In fact, I think it&rsquo;s so important that it should have been item 13 in the <a href="http://www.joelonsoftware.com/articles/fog0000000043.html">Joel Test</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/09/25/migrating-from-subtext-to-blogenginenet">Migrating From SubText to BlogEngine.NET</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-09-25T00:00:00+01:00" pubdate data-updated="true">Sep 25<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/09/25/migrating-from-subtext-to-blogenginenet#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>
	My blog was running in <a href="http://subtextproject.com">SubText</a>, but I&rsquo;ve recently changed to <a href="http://www.dotnetblogengine.net/">BlogEngine.NET</a>. The main reason for the change was that BlogEngine.NET supports storing the data in plain XML files, without having any dependency to a database. This makes it really easy to customize, as I can develop everything in my local machine, and then just send the files to the server. With SubText this was harder to do, so I ended up doing fewer tweaks, and doing them directly in production, which I didn&rsquo;t like.</p>
<p>
	The migration wasn&rsquo;t as smooth as I though it would be, so here are the steps I took, in case someone needs to go through a similar process:</p>
<ul>
	<li>
		Exporting to BlogML and then importing didn&rsquo;t work correctly. After exporting, I had to <a href="http://garfoot.com/blog/2010/08/importing-blogml-into-wordpress/">convert the content from Base64</a>, replace the &amp;amp;&rsquo;s in the titles with &amp;, and then manually set the author in all post. I also had to set the tags manually in all posts, as in SubText they weren&rsquo;t a separate field but instead were part of the content of the posts. Having the posts on xml files on disk rather than on a database eased this job a lot.</li>
	<li>
		The TinyMCE bundled in BlogEngine.NET doesn&rsquo;t support images, so I had to <a href="http://jerryhuang.net/post/Replace-TinyMCE-with-CKEditor-and-CKFinder-in-BlogEngine-20.aspx">replace it with CKEditor and CKFinder</a>.</li>
	<li>
		The SubText post URL&#39;s have the format /archive/year/month/day/name-of-the-post.aspx, while BlogEngine.NET post URL&#39;s have the format /server/post/year/month/day/name-of-the-post.aspx. I had to set up redirection so the old links would keep working. To do that I&rsquo;ve taken the source code from <a href="http://www.blogenginewall.com/post/2011/04/01/BlogEngine-SEO-Permanent-Redirection-From-Old-URL-To-New-URL.aspx">BlogEngine SEO Redirection extension</a> and changed the comparison to only check prefixes (source code <a href="https://github.com/ovatsus/Blog/commit/a8c8c3f0984507182b2a0139aa2fcbdcb5a51358">here</a>).</li>
	<li>
		Several of the extensions available out there don&rsquo;t work out of the box with the latest version of BlogEngine.NET (2.5):
		<ul>
			<li>
				For the AddThis extension I had to <a href="http://www.mbaldinger.com/post/AddThisNET-Social-Bookmarking-Buttons-for-Blogengine-v5.aspx#id_7b41fd26-f300-4029-b606-60b0cc2f0e6d">add some missing using&rsquo;s to the code</a>, and disable the form validation of the settings page (source code <a href="https://github.com/ovatsus/Blog/commit/931e4f13c76f8505ea65cd6d154fd29354526fbb">here</a>).</li>
			<li>
				To be able to configure widgets in the AllTuts theme, I had to make a small bug fix (as described in Janier Davila comment <a href="http://www.pravesh.me/alltuts-theme-blogenginenet-updated-v25/">here</a>)</li>
		</ul>
	</li>
</ul>
<p>
	After all that work, now I have a setup that allows me to tweak the blog very easily. I have it on GitHub, cloned into my local machine and into the server. I can play around locally, and when I&rsquo;m glad with the results I just need to do a git push locally and then remote desktop to the server to do a git pull and force a reload of the application by touching the web.config.</p>
<p>
	Of course, to protect my passwords and keys, I have to tell git to ignore users.xml, akismetfilter.xml and recaptcha.xml, using <a href="http://blog.pagebakers.nl/2009/01/29/git-ignoring-changes-in-tracked-files/">this procedure</a>. And I also must take care with the email settings that are stored on the global settings.xml file, which forces me to always have that file uncommitted at the server, but other than that, it&rsquo;s orders of magnitude better than editing directly on production.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/04/19/replacing-visual-studio-2010-with-sharpdevelop-4-1">Replacing Visual Studio 2010 With SharpDevelop 4.1</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-04-19T00:00:00+01:00" pubdate data-updated="true">Apr 19<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/04/19/replacing-visual-studio-2010-with-sharpdevelop-4-1#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>
	I use Visual Studio 2010 on a daily basis, and I must say that the overall experience is far from good:</p>
<ul>
	<li>
		The find dialog has some really weird and annoying resizing issues.</li>
	<li>
		Sometimes find text simply stops working, never returning any result. Even worst, sometimes it starts returning only the first hit on each file, which of course you only notice the next day because of the bug you introduced in the code base because of that.</li>
	<li>
		It has the habit of recompiling more projects than it really needs to.</li>
	<li>
		Sometimes the simple action of clicking on a text editor to change the caret position stops working, and we can only use the keyboard for that until you restart Visual Studio.</li>
	<li>
		It takes forever to open XAML files (even with the option to always open in full XAML view, not design mode).</li>
	<li>
		It has some serious file cache problems when using custom MSBuild build steps that generate files for compilation. If during a build a generated file is changed while it&rsquo;s opened, the result of the compilation will be as if the file hadn&rsquo;t been changed. If that file is not opened, or we use the MSBuild command line, it works correctly. Just imagine going through a huge list of steps to reproduce some problem only to find out that you&rsquo;re debugging outdated code. It&rsquo;s a real nightmare.</li>
</ul>
<p>
	So I decided to give SharpDeveloper a try, and I was pleasantly surprised:</p>
<ul>
	<li>
		It&rsquo;s pretty fast and responsive, even with big solutions, as long as you turn off source control integration.</li>
	<li>
		I can open .xaml files as fast as .cs files, and the xaml auto complete works sufficiently good.</li>
	<li>
		It builds the big solution I use daily in <strong>half</strong> the time (literally)</li>
	<li>
		It doesn&rsquo;t have the file cache problem</li>
	<li>
		It has an option for building modified projects only, ignoring the dependencies</li>
	<li>
		The latest 4.1 alpha builds allow to see the <a href="http://community.sharpdevelop.net/blogs/marcueusebiu/archive/2011/01/23/presenting-metadata-ctrl-enter-and-expand-references.aspx">metadata of referenced types</a> like Visual Studio does.</li>
</ul>
<p>
	Of course, there are also a few downsides:</p>
<ul>
	<li>
		The usability of the editor auto complete is noticeably lower than Visual Studio IntelliSense.</li>
	<li>
		The shortcut keys aren&rsquo;t customizable, which is a big no no considering that the basic ones like build and toggle breakpoint are different from the ones we&rsquo;re used to from Visual Studio.</li>
	<li>
		Custom debugger visualizers and other very useful add-ins&nbsp; for Visual Studio don&rsquo;t have a SharpDevelop version.</li>
	<li>
		It doesn&rsquo;t have Edit and Continue.</li>
</ul>
<p>
	I had already tried SharpDevelop before in the past, but at the time it seemed to be too limited when compared to Visual Studio. I now think it&rsquo;s good enough to be usable, and as it&rsquo;s open source and the code base looks readable, I&rsquo;m going to try to fix a few quirks to be able to completely replace Visual Studio for my daily coding needs.</p>
<p>
	The first thing I did was to create a SharpDevelop add-in with equivalent functionality to the <a href="http://www.usysware.com/dpack/FileBrowser.aspx">DPack File Browser</a>, which is one of the Visual Studio add-ins that I use the most. I got a working prototype really fast, as the SharpDevelop add-in API is much cleaner that the Visual Studio EnvDTE mess:</p>
<p>
	<img border="0" height="190" src="/userfiles/Replacing-Visual-Studio_130FA/image_thumb.png" width="244" /></p>
<p>
	I&nbsp;posted the source code to <a href="https://github.com/ovatsus/CodeBeside.FileBrowser">https://github.com/ovatsus/CodeBeside.FileBrowser</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/12/18/agile-platform-5-1-1">Agile Platform 5.1.1</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-12-18T00:00:00+00:00" pubdate data-updated="true">Dec 18<span>th</span>, 2010</time>
        
         | <a href="/blog/2010/12/18/agile-platform-5-1-1#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>
	We&rsquo;ve recently released version 5.1.1 of the Agile Platform. It&rsquo;s got a lot of great new features and an improved look &amp; feel. And better yet, it&rsquo;s compatible with 5.1.0, so you don&rsquo;t need to upgrade your server.</p>
<p>
	Check the post <a href="http://www.outsystems.com/NetworkForums/ViewTopic.aspx?Topic=New-in-the-Agile-Platform-v5.1.1">New-in-the-Agile-Platform-v5.1.1</a> for more info.</p>
<p>
	<img src="http://www.outsystems.com/CKEditor/Download.aspx?GUID=20101282jg5g1100gj4b27ajcgxdvtt304kynvodja1puurz6" /></p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>About me</h1>
  <p>I&#8217;m a Software Developer interested in Functional Programming, Machine Learning, and User Experience Design</p>
  <iframe src="http://githubbadge.appspot.com/badge/ovatsus?a=0" style="border: 0;height: 112px;width: 200px;overflow: hidden;" frameBorder=0></iframe>
</section>
<section>
  <h1>Projects</h1>
  <ul>
    <li><a href="http://fsharp.github.io/FSharp.Data/">FSharp.Data</a></li>
    <li><a href="http://visualstudiogallery.msdn.microsoft.com/24ef5c87-b4e3-4c3b-b126-1064cc66e148">Fantomas</a></li>
    <li><a href="http://windowsphone.com/s?appId=ef62d461-861c-4a9f-9198-8768532cc6aa"><img src="https://f.cloud.github.com/assets/738761/901479/21504cbe-fb80-11e2-8282-8331c5465d67.png" style="margin:-7px 0px -7px -7px;width:40px;vertical-align:middle;height:40px;border:0;box-shadow:none" />UK Trains</a></li>
    <li><a href="http://windowsphone.com/s?appId=aca60941-2945-49e7-afd2-adbe5625df12"><img src="https://f.cloud.github.com/assets/738761/901479/21504cbe-fb80-11e2-8282-8331c5465d67.png" style="margin:-7px 0px -7px -7px;width:40px;vertical-align:middle;height:40px;border:0;box-shadow:none" />Learn On The Go</a></li>
  </ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/10/14/fsharp-for-screen-scraping">F# for Screen Scraping</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/21/fsharp-data-1-1-9-released">FSharp.Data 1.1.9 released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/05/13/building-type-providers-part1">Building Type Providers - Part 1</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/02/24/fsharp-windows-phone-7-visual-studio-2012">F#, Windows Phone 7 & Visual Studio 2012</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/10/27/f-as-a-octavematlab-replacement-for-machine-learning">F# as a Octave/Matlab replacement for Machine Learning</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Tags</h1>
  <span id="tag-cloud">
    <a href='/blog/tags/ajax' style='font-size: 106.66666666666667%'>AJAX</a> <a href='/blog/tags/blogging' style='font-size: 106.66666666666667%'>Blogging</a> <a href='/blog/tags/code-generation' style='font-size: 106.66666666666667%'>Code Generation</a> <a href='/blog/tags/css' style='font-size: 106.66666666666667%'>CSS</a> <a href='/blog/tags/f-' style='font-size: 140.0%'>F#</a> <a href='/blog/tags/htmlagilitypack' style='font-size: 106.66666666666667%'>HtmlAgilityPack</a> <a href='/blog/tags/linq' style='font-size: 120.0%'>LINQ</a> <a href='/blog/tags/machine-learning' style='font-size: 106.66666666666667%'>Machine Learning</a> <a href='/blog/tags/msmq' style='font-size: 106.66666666666667%'>MSMQ</a> <a href='/blog/tags/outsystems' style='font-size: 160.0%'>OutSystems</a> <a href='/blog/tags/presharp' style='font-size: 106.66666666666667%'>PreSharp</a> <a href='/blog/tags/screen-scraping' style='font-size: 106.66666666666667%'>Screen Scraping</a> <a href='/blog/tags/sharpdevelop' style='font-size: 106.66666666666667%'>SharpDevelop</a> <a href='/blog/tags/type-providers' style='font-size: 113.33333333333333%'>Type Providers</a> <a href='/blog/tags/windows-phone' style='font-size: 106.66666666666667%'>Windows Phone</a> <a href='/blog/tags/word' style='font-size: 106.66666666666667%'>Word</a> <a href='/blog/tags/wpf' style='font-size: 113.33333333333333%'>WPF</a> <a href='/blog/tags/xml' style='font-size: 106.66666666666667%'>XML</a> 
  </span>
</section>

<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("ovatsus", 5, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/ovatsus" class="twitter-follow-button" data-show-count="false">Follow @ovatsus</a>
  
</section>


  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Gustavo Guerra -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
  - <span class="credit">Theme by <a href="http://www.gehaxelt.in">Gehaxelt</a></span>
  <span class="credit">and <a href="http://www.it-solutions-neef.de">IT Solutions Neef</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'codebesideblog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
